j5ik2o {

  dynamo-db-journal {
    class = "com.github.j5ik2o.akka.persistence.dynamodb.journal.DynamoDBJournal"
    plugin-dispatcher = "akka.actor.default-dispatcher"

    # support for legacy config format.
    # true if reading old format configuration files, but normally should be false.
    legacy-config-format = false

    # AWS Client Factories
    # v1
    v1-async-client-factory-class-name = "com.github.j5ik2o.akka.persistence.dynamodb.utils.V1AsyncClientFactory$Default"
    v1-sync-client-factory-class-name = "com.github.j5ik2o.akka.persistence.dynamodb.utils.V1SyncClientFactory$Default"
    v1-dax-async-client-factory-class-name = "com.github.j5ik2o.akka.persistence.dynamodb.utils.V1DaxAsyncClientFactory$Default"
    v1-dax-sync-client-factory-class-name = "com.github.j5ik2o.akka.persistence.dynamodb.utils.V1DaxSyncClientFactory$Default"
    # v2
    v2-async-client-factory-class-name = "com.github.j5ik2o.akka.persistence.dynamodb.utils.V2AsyncClientFactory$Default"
    v2-sync-client-factory-class-name = "com.github.j5ik2o.akka.persistence.dynamodb.utils.V2SyncClientFactory$Default"
    v2-dax-async-client-factory-class-name = "com.github.j5ik2o.akka.persistence.dynamodb.utils.V2DaxAsyncClientFactory$Default"
    v2-dax-sync-client-factory-class-name = "com.github.j5ik2o.akka.persistence.dynamodb.utils.V2DaxSyncClientFactory$Default"

    # column name deftines
    columns-def {
      partition-key-column-name = "pkey"
      sort-key-column-name = "skey"
      persistence-id-column-name = "persistence-id"
      sequence-nr-column-name = "sequence-nr"
      deleted-column-name = "deleted"
      message-column-name = "message"
      ordering-column-name = "ordering"
      tags-column-name = "tags"
    }

    # the table name of journal
    table-name = "Journal"

    # the index name to read journal rows
    get-journal-rows-index-name = "GetJournalRowsIndex"

    # the separator for tags
    tag-separator = ","

    # consistent reads are possible, but at a higher cost.
    consistent-read = false

    # logical shard count
    shard-count = 64

    # specify the name of the provider class to generate the `PartitionKeyResolver`. Normally, you do not need to change this setting.
    partition-key-resolver-provider-class-name = "com.github.j5ik2o.akka.persistence.dynamodb.journal.PartitionKeyResolverProvider$Default"

    # `partition-key-resolver-class-name` specifies the implementation class that generates `pkey` from `PersistenceId` and `Sequence Number`.
    partition-key-resolver-class-name = "com.github.j5ik2o.akka.persistence.dynamodb.journal.PartitionKeyResolver$SequenceNumberBased"

    # specify the name of the provider class to generate the `SortKeyResolver`. Normally, you do not need to change this setting.
    sort-key-resolver-provider-class-name = "com.github.j5ik2o.akka.persistence.dynamodb.journal.SortKeyResolverProvider$Default"

    # `sort-key-resolver-class-name` specifies the implementation class that generates `skey` from `PersistenceId` and `Sequence Number`.
    sort-key-resolver-class-name = "com.github.j5ik2o.akka.persistence.dynamodb.journal.SortKeyResolver$PersistenceIdWithSeqNr"

    queue-enable = true
    queue-buffer-size = 512
    queue-overflow-strategy = "fail"
    queue-parallelism = 1
    write-parallelism = 16

    write-backoff {
      enabled = false
      min-backoff = 3s
      max-backoff = 30s
      random-factor = 0.8
      max-restarts = 3
    }

    query-batch-size = 512
    replay-batch-size = 512
    replay-batch-refresh-interval = null

    read-backoff {
      enabled = false
      min-backoff = 3s
      max-backoff = 30s
      random-factor = 0.8
      max-restarts = 3
    }

    soft-delete = true

    dynamo-db-client {
      access-key-id = null
      secret-access-key = null
      endpoint = null
      region = null
      client-version = "v2"
      client-type = "async"
      v1 {
        dispatcher-name = null
        client-configuration {
          connection-timeout = 2000ms
          max-connections = 50
          max-error-retry = null
          retry-mode = null
          retry-policy-provider-class-name = "com.github.j5ik2o.akka.persistence.dynamodb.client.v1.RetryPolicyProvider$Default"
          throttle-retries = true
          local-address = null
          protocol = null
          socket-timeout = 50000ms
          request-timeout = 60000ms
          client-execution-timeout = 0s
          user-agent-prefix = null
          user-agent-suffix = null
          use-reaper = true
          use-gzip = false
          socket-send-buffer-size-hint = null
          socket-receive-buffer-size-hint = null
          signer-override = null
          response-metadata-cache-size = 50
          dns-resolver-provider-class-name = "com.github.j5ik2o.akka.persistence.dynamodb.client.v1.DnsResolverProvider$Default"
          dns-resolver-class-name = null
          secure-random-provider-class-name = "com.github.j5ik2o.akka.persistence.dynamodb.client.v1.SecureRandomProvider$Default"
          use-secure-random = false
          use-expect-continue = true
          cache-response-metadata = true
          connection-ttl = null
          connection-max-idle = 60000ms
          validate-after-inactivity = 5000ms
          tcp-keep-alive = false
          headers = null
          max-consecutive-retries-before-throttling = 100
          disable-host-prefix-injection = null
          proxy-protocol = null
          proxy-host = null
          proxy-port = null
          disable-socket-proxy = null
          proxy-username = null
          proxy-password = null
          proxy-domain = null
          proxy-workstation = null
          non-proxy-hosts = null
          proxy-authentication-methods = null
        }
        request-metric-collector-provider-class-name = "com.github.j5ik2o.akka.persistence.dynamodb.client.v1.RequestMetricCollectorProvider$Default"
        request-metric-collector-class-name = null
        monitoring-listener-provider-class-name = "com.github.j5ik2o.akka.persistence.dynamodb.client.v1.MonitoringListenerProvider$Default"
        monitoring-listener-class-name = null
        request-handlers-provider-class-name = "com.github.j5ik2o.akka.persistence.dynamodb.client.v1.RequestHandlersProvider$Default"
        request-handlers-class-name = null
        csm-configuration-provider-class-name = "com.github.j5ik2o.akka.persistence.dynamodb.client.v1.RequestHandlersProvider$Default"
        csm-configuration-class-name = null
        csm-configuration-provider-provider-class-name = "com.github.j5ik2o.akka.persistence.dynamodb.client.v1.CsmConfigurationProviderProvider$Default"
        csm-configuration-provider-class-name = null
        aws-credentials-provider-provider-class-name = "com.github.j5ik2o.akka.persistence.dynamodb.client.v1.AWSCredentialsProviderProvider$Default"
        aws-credentials-provider-class-name = null
      }
      v1-dax {
        dispatcher-name = null
        connection-timeout = 2000ms
        request-timeout = 60000ms
        health-check-timeout = 1000ms
        health-check-interval = 5000ms
        idle-connection-timeout = 30000ms
        min-idle-connection-size = 1
        write-retries = 2
        max-pending-connections-per-host = 10
        read-retries = 2
        thread-keep-alive = 10000ms
        cluster-update-interval = 4000ms
        cluster-update-threshold = 125ms
        max-retry-delay = 7000ms
        unhealthy-consecutive-error-count = 5
        aws-credentials-provider-provider-class-name = "com.github.j5ik2o.akka.persistence.dynamodb.client.v1.AWSCredentialsProviderProvider$Default"
        aws-credentials-provider-class-name = null
      }
      v2 {
        async {
          max-concurrency = 50
          max-pending-connection-acquires = 10000
          read-timeout = 30s
          write-timeout = 30s
          connection-timeout = 2000ms
          connection-acquisition-timeout = 10s
          connection-time-to-live = 0s
          max-idle-connection-timeout = 60s
          use-connection-reaper = true
          threads-of-event-loop-group = null
          use-http2 = false
          http2-max-streams = 4294967295
          http2-initial-window-size = 1048576
          http2-health-check-ping-period = null
        }
        sync {
          dispatcher-name = null
          socket-timeout = 50000ms
          connection-timeout = 2000ms
          connection-acquisition-timeout = 10s
          max-connections = 50
          local-address = null
          expect-continue-enabled = null
          connection-time-to-live = 0s
          max-idle-connection-timeout = 60s
          use-connection-reaper = true
        }
        headers = null
        retry-policy-provider-class-name = "com.github.j5ik2o.akka.persistence.dynamodb.client.v2.RetryPolicyProvider$Default"
        # The retry mode
        #
        # Legacy: The legacy mode that only enables throttled retry for transient errors
        #
        # Standard: Standard mode is built on top of legacy mode and has throttled retry enabled for throttling errors apart from transient errors.
        # In addition, timeout(socket timeout or connection timeout) errors would cost more retry capacity compared with LEGACY.
        #
        # Adaptive: Adaptive retry mode dynamically limits the rate of AWS requests to maximize success rate.
        # This may be at the expense of request latency. Adaptive retry mode is not recommended when predictable latency is important.
        retry-mode = null
        execution-interceptor-provider-class-name = "com.github.j5ik2o.akka.persistence.dynamodb.client.v2.ExecutionInterceptorsProvider$Default"
        execution-interceptor-class-names = null
        api-call-timeout = null
        api-call-attempt-timeout = null
        metric-publishers-provider-class-names = "com.github.j5ik2o.akka.persistence.dynamodb.client.v2.MetricPublishersProvider$Default"
        metric-publisher-class-names = null
        aws-credentials-provider-provider-class-name = "com.github.j5ik2o.akka.persistence.dynamodb.client.v2.AwsCredentialsProviderProvider$Default"
        aws-credentials-provider-class-name = null
      }
      v2-dax {
        dispatcher-name = null
        idle-timeout = 30000ms
        connection-ttl = 0s
        connection-timeout = 2000ms
        request-timeout = 60000ms
        write-retries = 2
        read-retries = 2
        cluster-update-interval = 4000ms
        endpoint-refresh-timeout = 6000ms
        max-pending-connection-acquires = 10000
        max-concurrency = 1000
        skip-host-name-verification = false
        url = null
        metric-publishers-provider-class-names = "com.github.j5ik2o.akka.persistence.dynamodb.client.v2.MetricPublishersProvider$Default"
        metric-publisher-class-names = null
        aws-credentials-provider-provider-class-name = "com.github.j5ik2o.akka.persistence.dynamodb.client.v2.AwsCredentialsProviderProvider$Default"
        aws-credentials-provider-class-name = null
      }
      batch-get-item-limit = 100
      batch-write-item-limit = 25
    }

    journal-row-driver-wrapper-class-name = null

    metrics-reporter-provider-class-name = "com.github.j5ik2o.akka.persistence.dynamodb.metrics.MetricsReporterProvider$Default"
    metrics-reporter-class-name = "com.github.j5ik2o.akka.persistence.dynamodb.metrics.MetricsReporter$None"
    trace-reporter-provider-class-name = "com.github.j5ik2o.akka.persistence.dynamodb.trace.TraceReporterProvider$Default"
    trace-reporter-class-name = "com.github.j5ik2o.akka.persistence.dynamodb.trace.TraceReporter$None"
  }

}
